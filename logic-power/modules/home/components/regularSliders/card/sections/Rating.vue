<template>
  <section
    class="rating"
    :class="[
      { inactive: inactive },
      { one: +points === 1 },
      { two: +points === 2 },
      { three: +points === 3 },
      { four: +points === 4 },
      { five: +points === 5 },
    ]"
  >
    <section class="rating__points">
      <svg
        class="rating__star"
        width="14"
        height="13"
        viewBox="0 0 14 13"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          class="rating__star-state"
          d="M6.03614 1.07827C6.32323 0.139199 7.65051 0.133193 7.94608 1.06963L8.66929 3.36092C8.80149 3.77977 9.19153 4.06333 9.63073 4.05989L12.0648 4.04086C13.0191 4.0334 13.4406 5.23952 12.6893 5.82804L10.668 7.41145C10.3399 7.66851 10.2056 8.10215 10.3311 8.49966L11.1001 10.9361C11.3927 11.8632 10.3244 12.6204 9.54662 12.0372L7.67873 10.6367C7.31828 10.3665 6.82162 10.3706 6.46572 10.6468L4.60754 12.089C3.83929 12.6853 2.75818 11.9451 3.03613 11.0132L3.76948 8.5544C3.88917 8.1531 3.74614 7.71972 3.41108 7.4685L1.36991 5.93809C0.604125 5.36392 1.00488 4.14552 1.96198 4.13803L4.37435 4.11917C4.81112 4.11576 5.19514 3.82926 5.32284 3.41156L6.03614 1.07827Z"
          fill="#E9E9E9"
        />
      </svg>
      <svg
        class="rating__star"
        width="14"
        height="13"
        viewBox="0 0 14 13"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          class="rating__star-state"
          d="M6.03614 1.07827C6.32323 0.139199 7.65051 0.133193 7.94608 1.06963L8.66929 3.36092C8.80149 3.77977 9.19153 4.06333 9.63073 4.05989L12.0648 4.04086C13.0191 4.0334 13.4406 5.23952 12.6893 5.82804L10.668 7.41145C10.3399 7.66851 10.2056 8.10215 10.3311 8.49966L11.1001 10.9361C11.3927 11.8632 10.3244 12.6204 9.54662 12.0372L7.67873 10.6367C7.31828 10.3665 6.82162 10.3706 6.46572 10.6468L4.60754 12.089C3.83929 12.6853 2.75818 11.9451 3.03613 11.0132L3.76948 8.5544C3.88917 8.1531 3.74614 7.71972 3.41108 7.4685L1.36991 5.93809C0.604125 5.36392 1.00488 4.14552 1.96198 4.13803L4.37435 4.11917C4.81112 4.11576 5.19514 3.82926 5.32284 3.41156L6.03614 1.07827Z"
          fill="#E9E9E9"
        />
      </svg>
      <svg
        class="rating__star"
        width="14"
        height="13"
        viewBox="0 0 14 13"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          class="rating__star-state"
          d="M6.03614 1.07827C6.32323 0.139199 7.65051 0.133193 7.94608 1.06963L8.66929 3.36092C8.80149 3.77977 9.19153 4.06333 9.63073 4.05989L12.0648 4.04086C13.0191 4.0334 13.4406 5.23952 12.6893 5.82804L10.668 7.41145C10.3399 7.66851 10.2056 8.10215 10.3311 8.49966L11.1001 10.9361C11.3927 11.8632 10.3244 12.6204 9.54662 12.0372L7.67873 10.6367C7.31828 10.3665 6.82162 10.3706 6.46572 10.6468L4.60754 12.089C3.83929 12.6853 2.75818 11.9451 3.03613 11.0132L3.76948 8.5544C3.88917 8.1531 3.74614 7.71972 3.41108 7.4685L1.36991 5.93809C0.604125 5.36392 1.00488 4.14552 1.96198 4.13803L4.37435 4.11917C4.81112 4.11576 5.19514 3.82926 5.32284 3.41156L6.03614 1.07827Z"
          fill="#E9E9E9"
        />
      </svg>
      <svg
        class="rating__star"
        width="14"
        height="13"
        viewBox="0 0 14 13"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          class="rating__star-state"
          d="M6.03614 1.07827C6.32323 0.139199 7.65051 0.133193 7.94608 1.06963L8.66929 3.36092C8.80149 3.77977 9.19153 4.06333 9.63073 4.05989L12.0648 4.04086C13.0191 4.0334 13.4406 5.23952 12.6893 5.82804L10.668 7.41145C10.3399 7.66851 10.2056 8.10215 10.3311 8.49966L11.1001 10.9361C11.3927 11.8632 10.3244 12.6204 9.54662 12.0372L7.67873 10.6367C7.31828 10.3665 6.82162 10.3706 6.46572 10.6468L4.60754 12.089C3.83929 12.6853 2.75818 11.9451 3.03613 11.0132L3.76948 8.5544C3.88917 8.1531 3.74614 7.71972 3.41108 7.4685L1.36991 5.93809C0.604125 5.36392 1.00488 4.14552 1.96198 4.13803L4.37435 4.11917C4.81112 4.11576 5.19514 3.82926 5.32284 3.41156L6.03614 1.07827Z"
          fill="#E9E9E9"
        />
      </svg>
      <svg
        class="rating__star"
        width="14"
        height="13"
        viewBox="0 0 14 13"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          class="rating__star-state"
          d="M6.03614 1.07827C6.32323 0.139199 7.65051 0.133193 7.94608 1.06963L8.66929 3.36092C8.80149 3.77977 9.19153 4.06333 9.63073 4.05989L12.0648 4.04086C13.0191 4.0334 13.4406 5.23952 12.6893 5.82804L10.668 7.41145C10.3399 7.66851 10.2056 8.10215 10.3311 8.49966L11.1001 10.9361C11.3927 11.8632 10.3244 12.6204 9.54662 12.0372L7.67873 10.6367C7.31828 10.3665 6.82162 10.3706 6.46572 10.6468L4.60754 12.089C3.83929 12.6853 2.75818 11.9451 3.03613 11.0132L3.76948 8.5544C3.88917 8.1531 3.74614 7.71972 3.41108 7.4685L1.36991 5.93809C0.604125 5.36392 1.00488 4.14552 1.96198 4.13803L4.37435 4.11917C4.81112 4.11576 5.19514 3.82926 5.32284 3.41156L6.03614 1.07827Z"
          fill="#E9E9E9"
        />
      </svg>
    </section>
    <section class="rating__reviews">
      <a href="#" class="rating__review">{{ reviews }} отзывов</a>
    </section>
  </section>
</template>

<script setup>
defineProps({
  inactive: { type: Boolean, required: false },
  reviews: { type: String, required: false },
  points: { type: String, required: false },
});
</script>

<style lang="scss" scoped>
.rating {
  @include flex-container(row, space-between, center);

  padding: 0 18px 8px 18px;
  margin-bottom: 8px;

  &.one {
    .rating__star {
      &:nth-child(-n + 1) {
        .rating__star-state {
          fill: #fbbd09;
        }
      }
    }
  }

  &.two {
    .rating__star {
      &:nth-child(-n + 2) {
        .rating__star-state {
          fill: #fbbd09;
        }
      }
    }
  }

  &.three {
    .rating__star {
      &:nth-child(-n + 3) {
        .rating__star-state {
          fill: #fbbd09;
        }
      }
    }
  }

  &.four {
    .rating__star {
      &:nth-child(-n + 4) {
        .rating__star-state {
          fill: #fbbd09;
        }
      }
    }
  }

  &.five {
    .rating__star-state {
      fill: #fbbd09;
    }
  }

  &.inactive {
    .rating__star-state {
      filter: grayscale(1);
    }
  }

  &__points {
    display: flex;

    gap: 3px;

    font-size: 0;
  }

  &__points-large {
    display: none;
  }

  &__star {
    width: 16px;
    height: 16px;
  }

  &__review {
    @include font(12, 16, 400);
    color: #8a8a8a;
    letter-spacing: 0.02em;

    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);

    @include bigMobile {
      @include font(8, 10, 400);
    }
  }
}
</style>